{% extends "layout.html" %}

{% block content %}
    <form method="POST">
        {{ form.hidden_tag() }}
        <p>{{ form.start_date.label }}: {{ form.start_date }}</p>
        <p>{{ form.end_date.label }}: {{ form.end_date }}</p>
 
        {% if form.start_date.errors or form.end_date.errors %}
            <ul class="errors">{% for error in form.start_date.errors + form.end_date.errors %}
                <li> {{ error }} </li>
            {% endfor %}</ul>
        {% endif %}

        <input type="submit" value="Show project hours for this period">
    </form>

    <form action="/user_complete_history.csv">
        <input type="submit" value="Download all my data as a CSV">
    </form>

    <hr>

    {% if durations %}
        <table align="left">
            <thead>
                <th>Project</th>
                <th>Duration</th>
            </thead>
            <tbody>
                {% for row in durations %}
                    <tr>
                        {% for value in row %}
                            <td> {{ value }} </td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
{% endblock %}
